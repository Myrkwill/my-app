"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1],{2001:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var r=e(5671),n=e(3144),i=e(136),u=e(3668),o=e(1413),a=e(2791),l="ProfileInfo_descriptionBlock__XBXuJ",p="ProfileInfo_userPhoto__PHwGN",c=e(4353),f=e(885),d=e(184),h=function(t){var s=(0,a.useState)(!1),e=(0,f.Z)(s,2),r=e[0],n=e[1],i=(0,a.useState)(t.status),u=(0,f.Z)(i,2),o=u[0],l=u[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,d.jsxs)("div",{children:[!r&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"-------"})}),r&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatusProfile(o)},value:o})})]})},x=function(t){var s=t.profile,e=t.status,r=t.updateStatusProfile;if(!s)return null;var n=s.photos.small||c;return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("img",{src:n,className:p}),(0,d.jsx)(h,{status:e,updateStatusProfile:r})]})})},j=e(7581),P=e(6508),v=e(2982),m="MyPosts_postsBlock__lB-pf",g="MyPosts_posts__GSiZ2",_="Post_item__Yu4oG",S=function(t){return(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("img",{src:"https://www.peta.org/wp-content/uploads/2017/09/Naruto-Selfie-Thumb.jpg"}),t.message,(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:["likes: ",t.likesCount]})})]})},k=e(5705),Z=a.memo((function(t){var s=(0,v.Z)(t.posts).reverse().map((function(t){return(0,d.jsx)(S,{message:t.message,likesCount:t.likesCount})}));return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(w,{addNewPost:function(s){t.addPost(s)}}),(0,d.jsx)("div",{className:g,children:s})]})})),w=function(t){return(0,d.jsx)(k.J9,{initialValues:{newPostText:""},onSubmit:function(s,e){var r=e.resetForm;t.addNewPost(s.newPostText),r({values:""})},children:function(){return(0,d.jsxs)(k.l0,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(k.gN,{name:"newPostText",as:"textarea",placeholder:"Enter post text"})}),(0,d.jsx)("button",{type:"submit",children:"Add Post"})]})}})},N=Z,y=(0,j.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,P.q2)(s))}}}))(N),C=function(t){return(0,d.jsxs)("div",{children:[(0,d.jsx)(x,{profile:t.profile,status:t.status,updateStatusProfile:t.updateStatusProfile}),(0,d.jsx)(y,{})]})},b=e(6871),I=e(7781),B=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.params.userId;t||(t=this.props.authorizedUserId)||this.props.navigate({pathname:"/login"},{replace:!0}),this.props.getUserProfile(t),this.props.getStatusProfile(t)}},{key:"render",value:function(){return(0,d.jsx)(C,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile}))}}]),e}(a.Component),T=(0,I.qC)((0,j.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:P.et,getStatusProfile:P.Z6,updateStatusProfile:P._H}),(function(t){return function(s){var e=(0,b.UO)(),r=(0,b.s0)();return(0,d.jsx)(t,(0,o.Z)((0,o.Z)({},s),{},{params:e,navigate:r}))}}))(B)}}]);
//# sourceMappingURL=1.2547f7ec.chunk.js.map